"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const parser_1 = require("../parser");
const testCases_1 = __importDefault(require("../../tools/testCases"));
const javaScriptEmitter_1 = require("../javaScriptEmitter");
function compileToJavaScript(code) {
    const ast = parser_1.parse(code);
    return javaScriptEmitter_1.emitter(ast, { rawSource: code });
}
describe.skip("Small test cases", () => {
    const onlyIndex = null;
    testCases_1.default.forEach((testCase, i) => {
        const [description, expression, expectedResult] = testCase;
        const testFn = onlyIndex === i ? test.only : test;
        testFn(`(${i}): ${description}: "${expression}"`, async () => {
            const javaScriptSource = compileToJavaScript(expression);
            // console.log(javaScriptSource);
            const fn = new Function("a", javaScriptSource);
            const a = { g: 0, x: 10 };
            fn(a);
            expect(a.g).toBe(expectedResult);
        });
    });
});
//# sourceMappingURL=javaScriptCompiler.test.js.map